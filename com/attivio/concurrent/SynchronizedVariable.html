<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.3) on Tue Oct 22 10:37:32 EDT 2019 -->
<title>SynchronizedVariable (platform/sdk 5.6.3.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2019-10-22">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SynchronizedVariable (platform/sdk 5.6.3.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../";
var useModuleDirectories = false;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SynchronizedVariable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.attivio.concurrent</a></div>
<h2 title="Class SynchronizedVariable" class="title">Class SynchronizedVariable</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.attivio.concurrent.SynchronizedVariable</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.util.concurrent.Executor</code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="SynchronizedBoolean.html" title="class in com.attivio.concurrent">SynchronizedBoolean</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">SynchronizedVariable</span>
extends java.lang.Object
implements java.util.concurrent.Executor</pre>
<div class="block">Base class for simple, small classes maintaining single values that are always accessed and
 updated under synchronization. Since defining them for only some types seemed too arbitrary, they
 exist for all basic types, although it is hard to imagine uses for some.

 <p>These classes mainly exist so that you do not have to go to the trouble of writing your own
 miscellaneous classes and methods in situations including:

 <ul>
   <li>When you need or want to offload an instance variable to use its own synchronization lock.
       When these objects are used to replace instance variables, they should almost always be
       declared as <code>final</code>. This helps avoid the need to synchronize just to obtain the
       reference to the synchronized variable itself.
   <li>When you need methods such as set, commit, or swap. Note however that the synchronization
       for these variables is <em>independent</em> of any other synchronization perfromed using
       other locks. So, they are not normally useful when accesses and updates among variables
       must be coordinated. For example, it would normally be a bad idea to make a Point class out
       of two SynchronizedInts, even those sharing a lock.
   <li>When defining <code>static</code> variables. It almost always works out better to rely on
       synchronization internal to these objects, rather than class locks.
 </ul>

 <p>While they cannot, by nature, share much code, all of these classes work in the same way.

 <p><b>Construction</b> <br>
 Synchronized variables are always constructed holding an initial value of the associated type.
 Constructors also establish the lock to use for all methods:

 <ul>
   <li>By default, each variable uses itself as the synchronization lock. This is the most common
       choice in the most common usage contexts in which SynchronizedVariables are used to split
       off synchronization locks for independent attributes of a class.
   <li>You can specify any other Object to use as the synchronization lock. This allows you to use
       various forms of `slave synchronization'. For example, a variable that is always associated
       with a particular object can use that object's lock.
 </ul>

 <p><b>Update methods</b><br>
 Each class supports several kinds of update methods:

 <ul>
   <li>A <code>set</code> method that sets to a new value and returns previous value. For example,
       for a SynchronizedBoolean b, <code>boolean old = b.set(true)</code> performs a
       test-and-set.
       <p>
   <li>A <code>commit</code> method that sets to new value only if currently holding a given
       value.
       <p>For example, here is a class that uses an optimistic update loop to recompute a count
       variable represented as a SynchronizedInt.
       <pre>
 class X {
 private final SynchronizedInt count = new SynchronizedInt(0);

 static final int MAX_RETRIES = 1000;

 public boolean recomputeCount() throws InterruptedException {
 for (int i = 0; i &lt; MAX_RETRIES; ++i) {
 int current = count.get();
 int next = compute(current);
 if (count.commit(current, next))
 return true;
 else if (Thread.interrupted())
 throw new InterruptedException();
 }
 return false;
 }
 int compute(int l) { ... some kind of computation ... }
 }
 </pre>
       <p>
   <li>A <code>swap</code> method that atomically swaps with another object of the same class
       using a deadlock-avoidance strategy.
       <p>
   <li>Update-in-place methods appropriate to the type. All numerical types support:
       <ul>
         <li>add(x) (equivalent to return value += x)
         <li>subtract(x) (equivalent to return value -= x)
         <li>multiply(x) (equivalent to return value *= x)
         <li>divide(x) (equivalent to return value /= x)
       </ul>
       Integral types also support:
       <ul>
         <li>increment() (equivalent to return ++value)
         <li>decrement() (equivalent to return --value)
       </ul>
       Boolean types support:
       <ul>
         <li>or(x) (equivalent to return value |= x)
         <li>and(x) (equivalent to return value &amp;= x)
         <li>xor(x) (equivalent to return value ^= x)
         <li>complement() (equivalent to return x = !x)
       </ul>
       These cover most, but not all of the possible operators in Java. You can add more
       compute-and-set methods in subclasses. This is often a good way to avoid the need for
       ad-hoc synchronized blocks surrounding expressions.
 </ul>

 <p><b>Guarded methods</b> <br>
 All <code>Waitable</code> subclasses provide notifications on every value update, and support
 guarded methods of the form <code>when</code><em>predicate</em>, that wait until the predicate
 hold, then optionally run any Runnable action within the lock, and then return. All types
 support:

 <ul>
   <li>whenEqual(value, action)
   <li>whenNotEqual(value, action)
 </ul>

 (If the action argument is null, these return immediately after the predicate holds.) Numerical
 types also support

 <ul>
   <li>whenLess(value, action)
   <li>whenLessEqual(value, action)
   <li>whenGreater(value, action)
   <li>whenGreaterEqual(value, action)
 </ul>

 The Waitable classes are not always spectacularly efficient since they provide notifications on
 all value changes. They are designed for use in contexts where either performance is not an
 overriding issue, or where nearly every update releases guarded waits anyway.

 <p><b>Other methods</b> <br>
 This class implements Executor, and provides an <code>execute</code> method that runs the
 runnable within the lock.

 <p>All classes except SynchronizedRef and WaitableRef implement <code>Cloneable</code> and <code>
 Comparable</code>. Implementations of the corresponding methods either use default mechanics, or
 use methods that closely correspond to their java.lang analogs. SynchronizedRef does not
 implement any of these standard interfaces because there are many cases where it would not make
 sense. However, you can easily make simple subclasses that add the appropriate declarations.

 <p>

 <p>[<a href="http://gee.cs.oswego.edu/dl/classes/EDU/oswego/cs/dl/util/concurrent/intro.html">
 Introduction to this package. </a>]</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.locks.ReadWriteLock</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lock">lock</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">SynchronizedVariable</a></span>()</code></th>
<td class="colLast">
<div class="block">Create a SynchronizedVariable using itself as the lock *</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.concurrent.locks.ReadWriteLock)">SynchronizedVariable</a></span>&#8203;(java.util.concurrent.locks.ReadWriteLock&nbsp;lock)</code></th>
<td class="colLast">
<div class="block">Create a SynchronizedVariable using the supplied lock *</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#execute(java.lang.Runnable)">execute</a></span>&#8203;(java.lang.Runnable&nbsp;command)</code></th>
<td class="colLast">
<div class="block">If current thread is not interrupted, execute the given command within this object's lock</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.locks.ReadWriteLock</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLock()">getLock</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the lock used for all synchronization for this object</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="lock">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>lock</h4>
<pre>protected final&nbsp;java.util.concurrent.locks.ReadWriteLock lock</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.util.concurrent.locks.ReadWriteLock)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SynchronizedVariable</h4>
<pre>public&nbsp;SynchronizedVariable&#8203;(java.util.concurrent.locks.ReadWriteLock&nbsp;lock)</pre>
<div class="block">Create a SynchronizedVariable using the supplied lock *</div>
</li>
</ul>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SynchronizedVariable</h4>
<pre>public&nbsp;SynchronizedVariable()</pre>
<div class="block">Create a SynchronizedVariable using itself as the lock *</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getLock()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLock</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.locks.ReadWriteLock&nbsp;getLock()</pre>
<div class="block">Return the lock used for all synchronization for this object</div>
</li>
</ul>
<a id="execute(java.lang.Runnable)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>execute</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;execute&#8203;(java.lang.Runnable&nbsp;command)</pre>
<div class="block">If current thread is not interrupted, execute the given command within this object's lock</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>execute</code>&nbsp;in interface&nbsp;<code>java.util.concurrent.Executor</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SynchronizedVariable.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><p>Copyright &copy; 2019 <a href="https://attivio.com">Attivio, Inc.</a>                 All Rights Reserved</p>                 <p><b>PATENT NOTICE</b>: Attivio, Inc. Software Related Patents. With respect to the Attivio software product(s) being used, the following patents apply: <i>Querying Joined Data Within A Search Engine Index</i>: United States Patent No.(s): 8,073,840. <i>Ordered Processing of Groups of Messages</i>: U.S. Patent No.(s) 8,495,656. <i>Signal processing approach to sentiment analysis for entities in documents</i>: U.S. Patent No.(s) 8,725,494. Other U.S. and International Patents Pending.</p></small></p>
</footer>
</body>
</html>